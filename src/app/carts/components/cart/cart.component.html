<main class="carts-container">
  <h1>Shopping cart</h1>
  <div class="cart-header">
    <p>
      You have <span class="text-[#950b0b]">{{ numOfItemsInCart }}</span> items
      in your cart
    </p>
    <button (click)="clearCart()">Clear shopping cart</button>
  </div>
  <div class="cart-body">
    <table>
      <tr>
        <th></th>
        <th>Name</th>
        <th>Price</th>
        <th>Quantity</th>
        <th>Total</th>
        <th></th>
      </tr>
      <tr *ngFor="let obj of cart; let index = index">
        <td>
          <div class="table-image-container">
            <img [src]="obj.product.image" alt="img" class="table-image" />
          </div>
        </td>
        <td>{{ obj.product.title }}</td>
        <td>{{ obj.product.price }}</td>
        <td>
          <section class="cart-body-quantity">
            <button (click)="incQuantity(index)">+</button>
            <input
              type="number"
              [(ngModel)]="obj.quantity"
              (change)="changeQuantity()"
            />
            <button (click)="decQuantity(index)">-</button>
          </section>
        </td>
        <td>{{ obj.product.price * obj.quantity }}</td>
        <td>
          <button class="cart-body-delete" (click)="deleteProductInCart(index)">
            Delete
          </button>
        </td>
      </tr>
    </table>
  </div>
  <div class="cart-footer">
    <p>Total : {{ totalPrice }} LE</p>
    <button (click)="orderProducts()">Order now</button>
  </div>
  <div class="notification" *ngIf="isOrderSuccess">
    <strong>Well done!</strong> your order is successfully send
  </div>
</main>
